(function(){Vue.component("index",{render:function anonymous(){with(this)return _c("div",{staticClass:"novel-wrap"},[_c("h3",{staticClass:"title"},[_v(_s(chapter.title))]),chapter.subtitle?_c("h4",{staticClass:"subtitle"},[_v(_s(chapter.subtitle))]):_e(),_l(chapter.content,(function(t,e){return _c("p",{key:e},[_v(_s(t))])})),chapter.title?_c("div",{staticClass:"menu"},[_c("button",{staticClass:"btn",on:{click:preChapter}},[_v("上一章")]),_c("button",{staticClass:"btn",on:{click:gotoDirectory}},[_v("返回目录")]),_c("button",{staticClass:"btn",on:{click:nextChapter}},[_v("下一章")])]):_e()],2)},data:function(){return{chapter:{}}},methods:{gotoDirectory:function(){this.$router.push("/directory")},setContent:function(t){var e=t.chapter,n=t.scrollTop;this.chapter=e,this.$nextTick((function(){window.scrollTo(0,n||0)}))},init:function(){callVscode({cmd:"init",page:this.$route.query.idx||""},this.setContent)},preChapter:function(){callVscode("left",this.setContent)},nextChapter:function(){callVscode("right",this.setContent)},setScrollTop:function(){callVscode({cmd:"setScrollTop",scrollTop:document.documentElement.scrollTop})},keyHandle:function(t){switch(t.keyCode){case 37:this.preChapter();break;case 39:this.nextChapter();break;case 27:this.gotoDirectory()}}},mounted:function(){document.addEventListener("keydown",this.keyHandle),this.scrollHandle=throttle(this.setScrollTop,300),window.addEventListener("scroll",this.scrollHandle),this.init()},destroyed:function(){document.removeEventListener("keydown",this.keyHandle),window.removeEventListener("scroll",this.scrollHandle)}})})();